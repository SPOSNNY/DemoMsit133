
@{
    ViewData["Title"] = "Promise";
}

<h1>Promise</h1>


@section Scripts{ 
    <script>

        

        function printSomething(data) {
            const promise = new Promise(function (resolve, rejuct) {

                if (data == "D") rejuct("傳錯了");
                setTimeout(() => {
                    resolve(data)

                },1000)

            })
            return promise;
        }

        printSomething("A")
            .then(data => {
                console.log(data);
                return printSomething("B")
            })
            .then(data => {
                console.log(data);
                return printSomething("C")
            })
            .then(data => {
                console.log(data);
                return printSomething("D")
            })
            .then(data => {
                console.log("D:" + data);
            })
            .catch(error => {
                console.log(error);
            })


    </script>
}
